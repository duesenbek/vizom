<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VIZOM - Pricing Plans | Choose Your Chart Generation Plan</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="public/images/vizom-icon.png">
    <link rel="apple-touch-icon" href="public/images/vizom-icon.png">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="src/styles/font-awesome.min.css" />
    
    <!-- Modern Styles -->
    <link rel="stylesheet" href="src/styles/modern-saas.css" />
    <link rel="stylesheet" href="src/styles/components/improvements.css" />
    <link rel="stylesheet" href="src/styles/components/responsive-fixes.css" />
    <link rel="stylesheet" href="src/styles/ui-guidelines.css" />
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
    
    <!-- D3.js -->
    <script type="module" src="https://cdn.jsdelivr.net/npm/d3@7/+esm"></script>

    <!-- Supabase client -->
    <script type="module" src="src/supabase-client.js"></script>

    <!-- Supabase auth and payment handlers -->
    <script type="module" src="src/supabase-auth.js"></script>
    <script type="module" src="src/payments/stripe-client.js"></script>
</head>
<!-- Auth Modal -->
  <div id="auth-modal" class="fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4 hidden">
    <div class="bg-white rounded-2xl shadow-xl max-w-md w-full p-6 space-y-4">
      <div class="flex items-center justify-between">
        <h3 class="text-xl font-semibold text-slate-900">Вход в VIZOM</h3>
        <button id="close-auth-modal" class="text-slate-400 hover:text-slate-600 transition">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <p class="text-sm text-slate-500">Войдите через Google для доступа к генератору визуализаций</p>
      <button id="google-signin" class="w-full inline-flex items-center justify-center gap-2 bg-white border border-slate-200 text-slate-700 px-4 py-3 rounded-lg hover:bg-slate-50 transition">
        <svg class="w-5 h-5" viewBox="0 0 24 24">
          <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
          <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
          <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
          <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
        </svg>
        Continue with Google
      </button>
    </div>
  </div>

<body class="bg-white">
  <script type="module" src="scripts/main.js"></script>

  <!-- Analytics Initialization and Pricing Events -->
  <script type="module">
    import { initializeAnalytics, trackEvent, trackPageview } from '/src/tracking/analytics.js';
    try { await initializeAnalytics(); trackPageview('/pricing'); } catch {}

    document.addEventListener('DOMContentLoaded', () => {
      // Billing toggle change
      const billingToggle = document.getElementById('billing-toggle');
      if (billingToggle) {
        const handler = () => {
          const isAnnual = billingToggle.querySelector('span')?.style.transform?.includes('1.5rem');
          trackEvent('pricing_billing_changed', { billing: isAnnual ? 'annual' : 'monthly' });
        };
        billingToggle.addEventListener('click', handler);
      }

      // Plan selection buttons
      document.querySelectorAll('button').forEach(btn => {
        btn.addEventListener('click', () => {
          const card = btn.closest('.bg-white, .bg-blue-600');
          const planTitle = card?.querySelector('h3')?.textContent?.trim()?.toLowerCase();
          if (planTitle && (btn.textContent || '').trim().length > 0) {
            trackEvent('plan_selected', { plan: planTitle.includes('pro') ? 'pro' : (planTitle.includes('standard') ? 'standard' : planTitle) });
          }
        });
      });

      // FAQ interactions (robust selection without :contains)
      const faqSection = Array.from(document.querySelectorAll('section')).find(sec =>
        (sec.querySelector('h2')?.textContent || '').includes('Frequently Asked Questions')
      );
      if (faqSection) {
        faqSection.querySelectorAll('button').forEach(item => {
          item.addEventListener('click', () => {
            const question = item.querySelector('h3')?.textContent?.trim() || item.textContent?.trim();
            if (question) trackEvent('faq_clicked', { question });
          });
        });
      }
    });
  </script>

  <!-- Header -->
  <header class="header">
    <div class="container">
      <nav class="nav">
        <a href="index.html" class="logo">
          <div class="logo-icon">
            <img src="/public/images/vizom-icon.png" alt="VIZOM" style="width: 100%; height: 100%; object-fit: contain;">
          </div>
          VIZOM
        </a>
        <button class="mobile-menu-toggle" id="mobile-menu-toggle" aria-label="Toggle menu">
          <i class="fas fa-bars"></i>
        </button>
        <div class="nav-links" id="nav-links">
          <a href="index.html" class="nav-link">Home</a>
          <a href="generator.html" class="nav-link">Generator</a>
          <a href="templates.html" class="nav-link">Templates</a>
          <a href="pricing.html" class="nav-link active">Pricing</a>
          <button class="nav-link" id="auth-signin" type="button">Sign In</button>
          <a href="generator.html" class="btn btn-primary" data-action="get-started">Get Started</a>
        </div>
      </nav>
    </div>
  </header>

  <!-- Hero Section -->
  <section class="ui-section">
    <div class="ui-container text-center">
      <h1 class="ui-heading-1">Choose Your Plan</h1>
      <p class="ui-subtitle">
        Select the perfect plan for your data visualization needs. Start free and scale as you grow.
      </p>
      
      <!-- Billing Toggle -->
      <div class="flex items-center justify-center gap-4 mb-16">
        <span class="ui-body font-medium">Monthly</span>
        <button class="relative inline-flex h-8 w-14 items-center rounded-full bg-slate-200 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2" id="billing-toggle">
          <span class="inline-block h-6 w-6 transform rounded-full bg-white shadow-lg transition-transform translate-x-1"></span>
        </button>
        <span class="ui-body font-medium">Yearly <span class="text-green-600 font-semibold">(Save 20%)</span></span>
      </div>

      <!-- Pricing Cards -->
      <div class="ui-grid-features max-w-5xl mx-auto">
        <!-- Starter Plan -->
        <article class="ui-card">
          <div class="ui-card-content">
            <div class="mb-6">
              <h3 class="ui-heading-3">Standard</h3>
              <p class="ui-body">Free features, limited generations, ads</p>
            </div>
            <div class="mb-6">
              <div class="flex items-baseline gap-2">
                <span class="text-5xl font-bold text-slate-900">$0</span>
                <span class="ui-body">/month</span>
              </div>
            </div>
            <ul class="space-y-4 mb-6">
              <li class="flex items-start gap-3">
                <i class="fas fa-check text-green-500 mt-1"></i>
                <span class="ui-body">Up to 5 charts per day</span>
              </li>
              <li class="flex items-start gap-3">
                <i class="fas fa-check text-green-500 mt-1"></i>
                <span class="ui-body">Basic chart types</span>
              </li>
              <li class="flex items-start gap-3">
                <i class="fas fa-check text-green-500 mt-1"></i>
                <span class="ui-body">Standard export options</span>
              </li>
              <li class="flex items-start gap-3">
                <i class="fas fa-check text-green-500 mt-1"></i>
                <span class="ui-body">Community support</span>
              </li>
            </ul>
            <div class="mt-auto">
              <button class="ui-btn ui-btn-secondary w-full">
                Get Started
              </button>
            </div>
          </div>
        </article>

        <!-- Professional Plan -->
        <article class="ui-card border-2 border-blue-600 bg-blue-50 relative">
          <div class="absolute -top-3 left-1/2 transform -translate-x-1/2">
            <span class="ui-badge ui-badge-primary">Most Popular</span>
          </div>
          <div class="ui-card-content">
            <div class="mb-6">
              <h3 class="ui-heading-3">Pro</h3>
              <p class="ui-body">Unlimited generations</p>
            </div>
            <div class="mb-6">
              <div class="flex items-baseline gap-2">
                <span class="text-5xl font-bold">$2,99</span>
                <span class="ui-body">/month</span>
              </div>
            </div>
            <ul class="space-y-4 mb-6">
              <li class="flex items-start gap-3">
                <i class="fas fa-check text-blue-600 mt-1"></i>
                <span class="ui-body">Unlimited charts</span>
              </li>
              <li class="flex items-start gap-3">
                <i class="fas fa-check text-blue-600 mt-1"></i>
                <span class="ui-body">All chart types</span>
              </li>
              <li class="flex items-start gap-3">
                <i class="fas fa-check text-blue-600 mt-1"></i>
                <span class="ui-body">Advanced customization</span>
              </li>
              <li class="flex items-start gap-3">
                <i class="fas fa-check text-blue-600 mt-1"></i>
                <span class="ui-body">Priority support</span>
              </li>
              <li class="flex items-start gap-3">
                <i class="fas fa-check text-blue-600 mt-1"></i>
                <span class="ui-body">Team collaboration</span>
              </li>
            </ul>
            <div class="mt-auto">
              <button class="ui-btn ui-btn-primary w-full" data-action="upgrade-pro">
                Start Free Trial
              </button>
            </div>
          </div>
        </article>

       

  <!-- Features Section -->
  <section class="ui-section bg-white">
    <div class="ui-container">
      <div class="text-center mb-16">
        <h2 class="ui-heading-2">Everything you need to create stunning visualizations</h2>
        <p class="ui-subtitle max-w-3xl mx-auto">Powerful features designed to help you turn data into insights</p>
      </div>
      <div class="ui-grid-features">
        <div class="flex gap-4">
          <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0">
            <i class="fas fa-chart-line text-blue-600 text-xl"></i>
          </div>
          <div>
            <h3 class="text-lg font-semibold text-slate-900 mb-2">Advanced Charts</h3>
            <p class="text-slate-600">Create professional charts with advanced customization options</p>
          </div>
        </div>

        <div class="flex gap-4">
          <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center flex-shrink-0">
            <i class="fas fa-bolt text-green-600 text-xl"></i>
          </div>
          <div>
            <h3 class="text-lg font-semibold text-slate-900 mb-2">AI-Powered</h3>
            <p class="text-slate-600">Smart AI assistance to help you create the perfect visualization</p>
          </div>
        </div>

        <div class="flex gap-4">
          <div class="w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center flex-shrink-0">
            <i class="fas fa-users text-purple-600 text-xl"></i>
        </div>

        <div class="flex gap-4">
          <div class="w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center flex-shrink-0">
            <i class="fas fa-download text-orange-600 text-xl"></i>
          </div>
          <div>
            <h3 class="text-lg font-semibold text-slate-900 mb-2">Multiple Export Formats</h3>
            <p class="text-slate-600">Export your charts in PNG, SVG, PDF, and more</p>
          </div>
        </div>

        <div class="flex gap-4">
          <div class="w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center flex-shrink-0">
            <i class="fas fa-shield-alt text-red-600 text-xl"></i>
          </div>
          <div>
            <h3 class="text-lg font-semibold text-slate-900 mb-2">Secure & Private</h3>
            <p class="text-slate-600">Your data is encrypted and kept private</p>
          </div>
        </div>

        <div class="flex gap-4">
          <div class="w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center flex-shrink-0">
            <i class="fas fa-headset text-indigo-600 text-xl"></i>
          </div>
          <div>
            <h3 class="text-lg font-semibold text-slate-900 mb-2">24/7 Support</h3>
            <p class="text-slate-600">Get help whenever you need it from our expert team</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- FAQ Section -->
  <section class="ui-section">
    <div class="ui-container max-w-4xl">
      <div class="text-center mb-16">
        <h2 class="ui-heading-2">Frequently Asked Questions</h2>
        <p class="ui-subtitle">Got questions? We've got answers.</p>
      </div>

      <div class="space-y-6">
        <div class="bg-white rounded-lg border border-slate-200 p-6">
          <button class="w-full text-left flex items-center justify-between gap-4">
            <h3 class="text-lg font-semibold text-slate-900">Can I change my plan later?</h3>
            <i class="fas fa-chevron-down text-slate-400"></i>
          </button>
          <p class="text-slate-600 mt-4">
            Yes, you can upgrade or downgrade your plan at any time. Changes will be reflected in your next billing cycle.
          </p>
        </div>

        <div class="bg-white rounded-lg border border-slate-200 p-6">
          <button class="w-full text-left flex items-center justify-between gap-4">
            <h3 class="text-lg font-semibold text-slate-900">Do you offer a free trial?</h3>
            <i class="fas fa-chevron-down text-slate-400"></i>
          </button>
          <p class="text-slate-600 mt-4">
            Yes! We offer a 14-day free trial for our Professional plan with full access to all features.
          </p>
        </div>

        <div class="bg-white rounded-lg border border-slate-200 p-6">
          <button class="w-full text-left flex items-center justify-between gap-4">
            <h3 class="text-lg font-semibold text-slate-900">What payment methods do you accept?</h3>
            <i class="fas fa-chevron-down text-slate-400"></i>
          </button>
          <p class="text-slate-600 mt-4">
            We accept all major credit cards, PayPal, and wire transfers for Enterprise plans.
          </p>
        </div>

        <div class="bg-white rounded-lg border border-slate-200 p-6">
          <button class="w-full text-left flex items-center justify-between gap-4">
            <h3 class="text-lg font-semibold text-slate-900">Is my data secure?</h3>
            <i class="fas fa-chevron-down text-slate-400"></i>
          </button>
          <p class="text-slate-600 mt-4">
            Absolutely. We use industry-standard encryption and security measures to protect your data.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="ui-section bg-blue-600">
    <div class="ui-container text-center">
      <h2 class="ui-heading-2 text-white">Ready to get started?</h2>
      <p class="ui-subtitle text-blue-100">Join thousands of users who are already creating beautiful data visualizations with VIZOM.</p>
      <div class="ui-btn-group justify-center mt-6">
        <button class="ui-btn ui-btn-secondary" data-action="upgrade-pro">
          Start Free Trial
        </button>
        <button class="ui-btn ui-btn-primary" data-action="upgrade-pro">
          Schedule Demo
        </button>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="bg-slate-900 text-white py-12 px-4">
    <div class="max-w-6xl mx-auto">
      <div class="grid md:grid-cols-4 gap-8 mb-8">
        <div>
          <div class="flex items-center gap-2 mb-4">
            <i class="fas fa-chart-simple text-blue-400 text-xl"></i>
            <span class="font-bold text-xl">VIZOM</span>
          </div>
          <p class="text-slate-400">
            AI-powered data visualization made simple.
          </p>
        </div>
        
        <div>
          <h4 class="font-semibold mb-4">Product</h4>
          <ul class="space-y-2 text-slate-400">
            <li><a href="#" class="hover:text-white transition">Features</a></li>
            <li><a href="#" class="hover:text-white transition">Pricing</a></li>
            <li><a href="#" class="hover:text-white transition">Templates</a></li>
            <li><a href="#" class="hover:text-white transition">API</a></li>
          </ul>
        </div>
        
        <div>
          <h4 class="font-semibold mb-4">Company</h4>
          <ul class="space-y-2 text-slate-400">
            <li><a href="#" class="hover:text-white transition">About</a></li>
            <li><a href="#" class="hover:text-white transition">Blog</a></li>
            <li><a href="#" class="hover:text-white transition">Careers</a></li>
            <li><a href="#" class="hover:text-white transition">Contact</a></li>
          </ul>
        </div>
        
        <div>
          <h4 class="font-semibold mb-4">Support</h4>
          <ul class="space-y-2 text-slate-400">
            <li><a href="#" class="hover:text-white transition">Help Center</a></li>
            <li><a href="#" class="hover:text-white transition">Documentation</a></li>
            <li><a href="#" class="hover:text-white transition">Community</a></li>
            <li><a href="#" class="hover:text-white transition">Status</a></li>
          </ul>
        </div>
      </div>
      
      <div class="border-t border-slate-800 pt-8 flex flex-col md:flex-row justify-between items-center">
        <p class="text-slate-400 text-sm">
          © 2025 VIZOM. All rights reserved.
        </p>
        <div class="flex gap-6 mt-4 md:mt-0">
          <a href="#" class="text-slate-400 hover:text-white transition">
            <i class="fab fa-twitter text-xl"></i>
          </a>
          <a href="#" class="text-slate-400 hover:text-white transition">
            <i class="fab fa-linkedin text-xl"></i>
          </a>
          <a href="#" class="text-slate-400 hover:text-white transition">
            <i class="fab fa-github text-xl"></i>
          </a>
        </div>
      </div>
    </div>
  </footer>

  <script>
    // Billing toggle functionality
    const billingToggle = document.getElementById('billing-toggle');
    const monthlyPrices = ['$0', '$2.99'];
    const yearlyPrices = ['$0', '$2.39']; // 20% discount on Pro plan
    
    if (billingToggle) {
      billingToggle.addEventListener('click', () => {
        const isYearly = billingToggle.querySelector('span').style.transform === 'translateX(1.5rem)';
        
        if (isYearly) {
          billingToggle.querySelector('span').style.transform = 'translateX(0.25rem)';
          updatePrices(monthlyPrices);
        } else {
          billingToggle.querySelector('span').style.transform = 'translateX(1.5rem)';
          updatePrices(yearlyPrices);
        }
      });
    }
    
    function updatePrices(prices) {
      const priceElements = document.querySelectorAll('.text-5xl');
      priceElements.forEach((el, index) => {
        if (index < prices.length) {
          el.textContent = prices[index];
        }
      });
    }
  </script>
  
  <!-- Mobile Menu Script -->
  <script>
    // Mobile menu toggle
    const mobileMenuToggle = document.getElementById('mobile-menu-toggle');
    const navLinks = document.getElementById('nav-links');
    
    if (mobileMenuToggle) {
        mobileMenuToggle.addEventListener('click', () => {
            navLinks.classList.toggle('active');
            const icon = mobileMenuToggle.querySelector('i');
            icon.classList.toggle('fa-bars');
            icon.classList.toggle('fa-times');
        });
        
        // Close menu when clicking outside
        document.addEventListener('click', (e) => {
            if (!e.target.closest('.nav') && navLinks.classList.contains('active')) {
                navLinks.classList.remove('active');
                const icon = mobileMenuToggle.querySelector('i');
                icon.classList.add('fa-bars');
                icon.classList.remove('fa-times');
            }
        });
        
        // Close menu when clicking a link
        navLinks.querySelectorAll('a, button').forEach(link => {
            link.addEventListener('click', () => {
                navLinks.classList.remove('active');
                const icon = mobileMenuToggle.querySelector('i');
                icon.classList.add('fa-bars');
                icon.classList.remove('fa-times');
            });
        });
    }
  </script>
</body>
</html>
