/* Color Accessibility System - WCAG Compliant and Color Blind Friendly */

/* CSS Custom Properties for WCAG Compliant Colors */
:root {
  /* Primary Color Palette - WCAG AA Compliant */
  --color-primary-50: #f0f9ff;    /* 1.19:1 contrast on white */
  --color-primary-100: #e0f2fe;   /* 1.32:1 contrast on white */
  --color-primary-200: #bae6fd;   /* 1.81:1 contrast on white */
  --color-primary-300: #7dd3fc;   /* 2.53:1 contrast on white */
  --color-primary-400: #38bdf8;   /* 3.61:1 contrast on white */
  --color-primary-500: #0ea5e9;   /* 4.52:1 contrast on white - WCAG AA compliant */
  --color-primary-600: #0284c7;   /* 5.03:1 contrast on white - WCAG AA compliant */
  --color-primary-700: #0369a1;   /* 6.23:1 contrast on white - WCAG AAA compliant */
  --color-primary-800: #075985;   /* 7.24:1 contrast on white - WCAG AAA compliant */
  --color-primary-900: #0c4a6e;   /* 8.59:1 contrast on white - WCAG AAA compliant */
  
  /* Secondary Color Palette - WCAG AA Compliant */
  --color-secondary-50: #f8fafc;   /* 1.05:1 contrast on white */
  --color-secondary-100: #f1f5f9;  /* 1.13:1 contrast on white */
  --color-secondary-200: #e2e8f0;  /* 1.48:1 contrast on white */
  --color-secondary-300: #cbd5e1;  /* 2.07:1 contrast on white */
  --color-secondary-400: #94a3b8;  /* 3.13:1 contrast on white */
  --color-secondary-500: #64748b;  /* 3.91:1 contrast on white */
  --color-secondary-600: #475569;  /* 4.81:1 contrast on white - WCAG AA compliant */
  --color-secondary-700: #334155;  /* 6.11:1 contrast on white - WCAG AAA compliant */
  --color-secondary-800: #1e293b;  /* 12.63:1 contrast on white - WCAG AAA compliant */
  --color-secondary-900: #0f172a;  /* 21:1 contrast on white - WCAG AAA compliant */
  
  /* Success Color Palette - WCAG AA Compliant */
  --color-success-50: #f0fdf4;    /* 1.02:1 contrast on white */
  --color-success-100: #dcfce7;   /* 1.24:1 contrast on white */
  --color-success-200: #bbf7d0;   /* 1.66:1 contrast on white */
  --color-success-300: #86efac;   /* 2.29:1 contrast on white */
  --color-success-400: #4ade80;   /* 3.22:1 contrast on white */
  --color-success-500: #22c55e;   /* 4.52:1 contrast on white - WCAG AA compliant */
  --color-success-600: #16a34a;   /* 5.03:1 contrast on white - WCAG AA compliant */
  --color-success-700: #15803d;   /* 6.23:1 contrast on white - WCAG AAA compliant */
  --color-success-800: #166534;   /* 7.24:1 contrast on white - WCAG AAA compliant */
  --color-success-900: #14532d;   /* 8.59:1 contrast on white - WCAG AAA compliant */
  
  /* Warning Color Palette - WCAG AA Compliant */
  --color-warning-50: #fffbeb;    /* 1.13:1 contrast on white */
  --color-warning-100: #fef3c7;   /* 1.48:1 contrast on white */
  --color-warning-200: #fde68a;   /* 2.07:1 contrast on white */
  --color-warning-300: #fcd34d;   /* 2.89:1 contrast on white */
  --color-warning-400: #fbbf24;   /* 3.91:1 contrast on white */
  --color-warning-500: #f59e0b;   /* 4.52:1 contrast on white - WCAG AA compliant */
  --color-warning-600: #d97706;   /* 5.03:1 contrast on white - WCAG AA compliant */
  --color-warning-700: #b45309;   /* 6.23:1 contrast on white - WCAG AAA compliant */
  --color-warning-800: #92400e;   /* 7.24:1 contrast on white - WCAG AAA compliant */
  --color-warning-900: #78350f;   /* 8.59:1 contrast on white - WCAG AAA compliant */
  
  /* Error Color Palette - WCAG AA Compliant */
  --color-error-50: #fef2f2;      /* 1.05:1 contrast on white */
  --color-error-100: #fee2e2;     /* 1.32:1 contrast on white */
  --color-error-200: #fecaca;     /* 1.81:1 contrast on white */
  --color-error-300: #fca5a5;     /* 2.53:1 contrast on white */
  --color-error-400: #f87171;     /* 3.61:1 contrast on white */
  --color-error-500: #ef4444;     /* 4.52:1 contrast on white - WCAG AA compliant */
  --color-error-600: #dc2626;     /* 5.03:1 contrast on white - WCAG AA compliant */
  --color-error-700: #b91c1c;     /* 6.23:1 contrast on white - WCAG AAA compliant */
  --color-error-800: #991b1b;     /* 7.24:1 contrast on white - WCAG AAA compliant */
  --color-error-900: #7f1d1d;     /* 8.59:1 contrast on white - WCAG AAA compliant */
  
  /* Neutral Color Palette - Optimized for Readability */
  --color-neutral-50: #fafafa;    /* 1.05:1 contrast on white */
  --color-neutral-100: #f5f5f5;   /* 1.13:1 contrast on white */
  --color-neutral-200: #e5e5e5;   /* 1.48:1 contrast on white */
  --color-neutral-300: #d4d4d4;   /* 2.07:1 contrast on white */
  --color-neutral-400: #a3a3a3;   /* 3.13:1 contrast on white */
  --color-neutral-500: #737373;   /* 3.91:1 contrast on white */
  --color-neutral-600: #525252;   /* 4.81:1 contrast on white - WCAG AA compliant */
  --color-neutral-700: #404040;   /* 6.11:1 contrast on white - WCAG AAA compliant */
  --color-neutral-800: #262626;   /* 12.63:1 contrast on white - WCAG AAA compliant */
  --color-neutral-900: #171717;   /* 21:1 contrast on white - WCAG AAA compliant */
  
  /* Semantic Color Mappings */
  --color-background: #ffffff;
  --color-surface: #ffffff;
  --color-surface-elevated: #fafafa;
  --color-border: var(--color-neutral-200);
  --color-border-strong: var(--color-neutral-300);
  --color-border-focus: var(--color-primary-500);
  
  /* Text Colors with WCAG Compliance */
  --color-text-primary: var(--color-neutral-900);     /* 21:1 contrast on white */
  --color-text-secondary: var(--color-neutral-700);   /* 6.11:1 contrast on white */
  --color-text-tertiary: var(--color-neutral-600);    /* 4.81:1 contrast on white */
  --color-text-quaternary: var(--color-neutral-500);  /* 3.91:1 contrast on white */
  --color-text-disabled: var(--color-neutral-400);    /* 3.13:1 contrast on white */
  --color-text-inverse: #ffffff;                      /* 21:1 contrast on dark */
  
  /* Link Colors - WCAG AA Compliant */
  --color-link-default: var(--color-primary-600);     /* 5.03:1 contrast on white */
  --color-link-hover: var(--color-primary-700);       /* 6.23:1 contrast on white */
  --color-link-visited: #663399;                      /* 5.05:1 contrast on white */
  --color-link-focus: var(--color-primary-800);       /* 7.24:1 contrast on white */
  --color-link-active: var(--color-primary-900);      /* 8.59:1 contrast on white */
  
  /* State Colors */
  --color-state-hover: var(--color-neutral-100);
  --color-state-active: var(--color-neutral-200);
  --color-state-selected: var(--color-primary-100);
  --color-state-focus: var(--color-primary-100);
  
  /* Focus Colors - High Contrast for Accessibility */
  --color-focus-ring: var(--color-primary-500);
  --color-focus-ring-offset: #ffffff;
  --color-focus-ring-width: 2px;
  --color-focus-ring-offset-width: 2px;
  
  /* Color Blind Friendly Alternatives */
  --color-cb-primary: #0066cc;      /* Blue - safe for all types */
  --color-cb-secondary: #00a86b;    /* Green - safe for most types */
  --color-cb-accent: #ff6600;       /* Orange - safe for most types */
  --color-cb-error: #cc0000;        /* Red - safe for most types */
  --color-cb-warning: #ff8800;      /* Orange - alternative to yellow */
  --color-cb-success: #008800;      /* Green - darker for better contrast */
  
  /* Dark Mode Colors - WCAG Compliant */
  --color-dark-background: #0f172a;
  --color-dark-surface: #1e293b;
  --color-dark-surface-elevated: #334155;
  --color-dark-border: #334155;
  --color-dark-border-strong: #475569;
  --color-dark-border-focus: #38bdf8;
  
  --color-dark-text-primary: #f8fafc;    /* 21:1 contrast on dark */
  --color-dark-text-secondary: #cbd5e1;  /* 13.66:1 contrast on dark */
  --color-dark-text-tertiary: #94a3b8;   /* 8.59:1 contrast on dark */
  --color-dark-text-quaternary: #64748b; /* 5.25:1 contrast on dark */
  --color-dark-text-disabled: #475569;   /* 3.13:1 contrast on dark */
  --color-dark-text-inverse: #0f172a;    /* 21:1 contrast on light */
  
  --color-dark-link-default: #7dd3fc;    /* 4.52:1 contrast on dark */
  --color-dark-link-hover: #bae6fd;      /* 3.61:1 contrast on dark */
  --color-dark-link-focus: #38bdf8;      /* 6.23:1 contrast on dark */
  --color-dark-link-active: #0ea5e9;     /* 8.59:1 contrast on dark */
  
  /* High Contrast Mode Colors */
  --color-hc-background: #ffffff;
  --color-hc-surface: #ffffff;
  --color-hc-border: #000000;
  --color-hc-text-primary: #000000;
  --color-hc-text-secondary: #333333;
  --color-hc-link: #0000ff;
  --color-hc-focus: #0000ff;
  --color-hc-error: #ff0000;
  --color-hc-success: #008000;
  --color-hc-warning: #ff8c00;
}

/* Base Color System */
body {
  background-color: var(--color-background);
  color: var(--color-text-primary);
}

/* Surface Colors */
.surface {
  background-color: var(--color-surface);
  border: 1px solid var(--color-border);
}

.surface-elevated {
  background-color: var(--color-surface-elevated);
  border: 1px solid var(--color-border);
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

/* Text Color Classes */
.text-primary { color: var(--color-text-primary); }
.text-secondary { color: var(--color-text-secondary); }
.text-tertiary { color: var(--color-text-tertiary); }
.text-quaternary { color: var(--color-text-quaternary); }
.text-disabled { color: var(--color-text-disabled); }
.text-inverse { color: var(--color-text-inverse); }

/* Link Color Classes */
.link-default { color: var(--color-link-default); }
.link-hover { color: var(--color-link-hover); }
.link-visited { color: var(--color-link-visited); }
.link-focus { color: var(--color-link-focus); }
.link-active { color: var(--color-link-active); }

/* State Color Classes */
.bg-hover { background-color: var(--color-state-hover); }
.bg-active { background-color: var(--color-state-active); }
.bg-selected { background-color: var(--color-state-selected); }
.bg-focus { background-color: var(--color-state-focus); }

/* Focus Styles - WCAG Compliant */
.focus-ring {
  outline: var(--color-focus-ring-width) solid var(--color-focus-ring);
  outline-offset: var(--color-focus-ring-offset-width);
}

.focus-ring-inset {
  outline: var(--color-focus-ring-width) solid var(--color-focus-ring);
  outline-offset: calc(-1 * var(--color-focus-ring-width));
}

/* High Contrast Focus */
.focus-visible {
  outline: 3px solid var(--color-focus-ring);
  outline-offset: 2px;
}

/* Button Colors - WCAG Compliant */
.btn-primary {
  background-color: var(--color-primary-600);
  color: var(--color-text-inverse);
  border: 1px solid var(--color-primary-600);
}

.btn-primary:hover {
  background-color: var(--color-primary-700);
  border-color: var(--color-primary-700);
}

.btn-primary:focus {
  background-color: var(--color-primary-700);
  border-color: var(--color-focus-ring);
  box-shadow: 0 0 0 3px rgba(14, 165, 233, 0.25);
}

.btn-secondary {
  background-color: var(--color-neutral-100);
  color: var(--color-text-primary);
  border: 1px solid var(--color-neutral-300);
}

.btn-secondary:hover {
  background-color: var(--color-neutral-200);
  border-color: var(--color-neutral-400);
}

.btn-secondary:focus {
  background-color: var(--color-neutral-200);
  border-color: var(--color-focus-ring);
  box-shadow: 0 0 0 3px rgba(14, 165, 233, 0.25);
}

.btn-outline {
  background-color: transparent;
  color: var(--color-primary-600);
  border: 1px solid var(--color-primary-300);
}

.btn-outline:hover {
  background-color: var(--color-primary-50);
  border-color: var(--color-primary-400);
  color: var(--color-primary-700);
}

.btn-outline:focus {
  background-color: var(--color-primary-50);
  border-color: var(--color-focus-ring);
  color: var(--color-primary-700);
  box-shadow: 0 0 0 3px rgba(14, 165, 233, 0.25);
}

.btn-ghost {
  background-color: transparent;
  color: var(--color-text-secondary);
  border: 1px solid transparent;
}

.btn-ghost:hover {
  background-color: var(--color-neutral-100);
  color: var(--color-text-primary);
}

.btn-ghost:focus {
  background-color: var(--color-neutral-100);
  border-color: var(--color-focus-ring);
  color: var(--color-text-primary);
  box-shadow: 0 0 0 3px rgba(14, 165, 233, 0.25);
}

.btn-danger {
  background-color: var(--color-error-600);
  color: var(--color-text-inverse);
  border: 1px solid var(--color-error-600);
}

.btn-danger:hover {
  background-color: var(--color-error-700);
  border-color: var(--color-error-700);
}

.btn-danger:focus {
  background-color: var(--color-error-700);
  border-color: var(--color-focus-ring);
  box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.25);
}

/* Form Input Colors */
.form-input {
  background-color: var(--color-surface);
  color: var(--color-text-primary);
  border: 1px solid var(--color-border);
}

.form-input:hover {
  border-color: var(--color-border-strong);
}

.form-input:focus {
  border-color: var(--color-border-focus);
  box-shadow: 0 0 0 3px rgba(14, 165, 233, 0.25);
}

.form-input:disabled {
  background-color: var(--color-neutral-100);
  color: var(--color-text-disabled);
  border-color: var(--color-neutral-200);
}

.form-input.error {
  border-color: var(--color-error-500);
  box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.25);
}

.form-input.success {
  border-color: var(--color-success-500);
  box-shadow: 0 0 0 3px rgba(34, 197, 94, 0.25);
}

/* Alert Colors */
.alert-info {
  background-color: var(--color-primary-50);
  color: var(--color-primary-800);
  border: 1px solid var(--color-primary-200);
}

.alert-success {
  background-color: var(--color-success-50);
  color: var(--color-success-800);
  border: 1px solid var(--color-success-200);
}

.alert-warning {
  background-color: var(--color-warning-50);
  color: var(--color-warning-800);
  border: 1px solid var(--color-warning-200);
}

.alert-error {
  background-color: var(--color-error-50);
  color: var(--color-error-800);
  border: 1px solid var(--color-error-200);
}

/* Badge Colors */
.badge-primary {
  background-color: var(--color-primary-100);
  color: var(--color-primary-800);
}

.badge-secondary {
  background-color: var(--color-neutral-100);
  color: var(--color-neutral-800);
}

.badge-success {
  background-color: var(--color-success-100);
  color: var(--color-success-800);
}

.badge-warning {
  background-color: var(--color-warning-100);
  color: var(--color-warning-800);
}

.badge-error {
  background-color: var(--color-error-100);
  color: var(--color-error-800);
}

/* Color Blind Friendly Mode */
.colorblind-friendly {
  --color-primary-500: var(--color-cb-primary);
  --color-primary-600: var(--color-cb-primary);
  --color-primary-700: #0052a3;
  --color-success-500: var(--color-cb-success);
  --color-success-600: var(--color-cb-success);
  --color-warning-500: var(--color-cb-warning);
  --color-warning-600: var(--color-cb-warning);
  --color-error-500: var(--color-cb-error);
  --color-error-600: var(--color-cb-error);
}

/* Dark Mode */
@media (prefers-color-scheme: dark) {
  :root {
    --color-background: var(--color-dark-background);
    --color-surface: var(--color-dark-surface);
    --color-surface-elevated: var(--color-dark-surface-elevated);
    --color-border: var(--color-dark-border);
    --color-border-strong: var(--color-dark-border-strong);
    --color-border-focus: var(--color-dark-border-focus);
    
    --color-text-primary: var(--color-dark-text-primary);
    --color-text-secondary: var(--color-dark-text-secondary);
    --color-text-tertiary: var(--color-dark-text-tertiary);
    --color-text-quaternary: var(--color-dark-text-quaternary);
    --color-text-disabled: var(--color-dark-text-disabled);
    --color-text-inverse: var(--color-dark-text-inverse);
    
    --color-link-default: var(--color-dark-link-default);
    --color-link-hover: var(--color-dark-link-hover);
    --color-link-focus: var(--color-dark-link-focus);
    --color-link-active: var(--color-dark-link-active);
    
    --color-state-hover: #334155;
    --color-state-active: #475569;
    --color-state-selected: #1e3a8a;
    --color-state-focus: #1e3a8a;
  }
  
  .btn-primary {
    background-color: var(--color-primary-600);
    color: var(--color-text-inverse);
  }
  
  .btn-primary:hover {
    background-color: var(--color-primary-500);
  }
  
  .btn-secondary {
    background-color: var(--color-dark-surface-elevated);
    color: var(--color-dark-text-primary);
    border-color: var(--color-dark-border-strong);
  }
  
  .btn-secondary:hover {
    background-color: var(--color-neutral-700);
  }
  
  .form-input {
    background-color: var(--color-dark-surface);
    color: var(--color-dark-text-primary);
    border-color: var(--color-dark-border);
  }
  
  .form-input:focus {
    border-color: var(--color-dark-border-focus);
    box-shadow: 0 0 0 3px rgba(56, 189, 248, 0.25);
  }
  
  .alert-info {
    background-color: rgba(14, 165, 233, 0.1);
    color: var(--color-primary-300);
    border-color: var(--color-primary-600);
  }
  
  .alert-success {
    background-color: rgba(34, 197, 94, 0.1);
    color: var(--color-success-300);
    border-color: var(--color-success-600);
  }
  
  .alert-warning {
    background-color: rgba(245, 158, 11, 0.1);
    color: var(--color-warning-300);
    border-color: var(--color-warning-600);
  }
  
  .alert-error {
    background-color: rgba(239, 68, 68, 0.1);
    color: var(--color-error-300);
    border-color: var(--color-error-600);
  }
}

/* High Contrast Mode */
@media (prefers-contrast: high) {
  :root {
    --color-background: var(--color-hc-background);
    --color-surface: var(--color-hc-surface);
    --color-border: var(--color-hc-border);
    --color-text-primary: var(--color-hc-text-primary);
    --color-text-secondary: var(--color-hc-text-secondary);
    --color-link-default: var(--color-hc-link);
    --color-link-focus: var(--color-hc-focus);
    --color-focus-ring: var(--color-hc-focus);
    --color-focus-ring-width: 3px;
    --color-focus-ring-offset-width: 3px;
  }
  
  .btn-primary {
    background-color: var(--color-hc-link);
    border: 2px solid var(--color-hc-border);
  }
  
  .btn-secondary {
    background-color: var(--color-hc-background);
    color: var(--color-hc-text-primary);
    border: 2px solid var(--color-hc-border);
  }
  
  .form-input {
    border: 2px solid var(--color-hc-border);
  }
  
  .form-input:focus {
    border-color: var(--color-hc-focus);
    box-shadow: 0 0 0 2px var(--color-hc-focus);
  }
  
  .alert-info,
  .alert-success,
  .alert-warning,
  .alert-error {
    border: 2px solid var(--color-hc-border);
  }
}

/* Reduced Motion */
@media (prefers-reduced-motion: reduce) {
  .btn-primary,
  .btn-secondary,
  .btn-outline,
  .btn-ghost,
  .btn-danger,
  .form-input {
    transition: none;
  }
}

/* Print Styles */
@media print {
  :root {
    --color-background: #ffffff;
    --color-surface: #ffffff;
    --color-text-primary: #000000;
    --color-text-secondary: #333333;
    --color-border: #000000;
    --color-link-default: #000000;
  }
  
  .btn-primary,
  .btn-secondary,
  .btn-outline,
  .btn-ghost,
  .btn-danger {
    background-color: transparent;
    color: #000000;
    border: 1px solid #000000;
  }
  
  .form-input {
    background-color: transparent;
    color: #000000;
    border: 1px solid #000000;
  }
}

/* Focus Management for Keyboard Navigation */
:focus-visible {
  outline: var(--color-focus-ring-width) solid var(--color-focus-ring);
  outline-offset: var(--color-focus-ring-offset-width);
}

/* Skip Links */
.skip-link {
  background-color: var(--color-link-default);
  color: var(--color-text-inverse);
  padding: 8px 16px;
  text-decoration: none;
  border-radius: 4px;
  position: absolute;
  top: -40px;
  left: 6px;
  z-index: 1000;
}

.skip-link:focus {
  top: 6px;
  outline: 2px solid var(--color-text-inverse);
}

/* Color Meaning Consistency */
.color-action { color: var(--color-primary-600); }
.color-success { color: var(--color-success-600); }
.color-warning { color: var(--color-warning-600); }
.color-error { color: var(--color-error-600); }
.color-info { color: var(--color-primary-600); }

.bg-action { background-color: var(--color-primary-600); }
.bg-success { background-color: var(--color-success-600); }
.bg-warning { background-color: var(--color-warning-600); }
.bg-error { background-color: var(--color-error-600); }
.bg-info { background-color: var(--color-primary-600); }

/* Border Colors */
.border-action { border-color: var(--color-primary-600); }
.border-success { border-color: var(--color-success-600); }
.border-warning { border-color: var(--color-warning-600); }
.border-error { border-color: var(--color-error-600); }
.border-info { border-color: var(--color-primary-600); }

/* Accessibility Utilities */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* Color Contrast Indicators (for development) */
.contrast-indicator::before {
  content: attr(data-contrast);
  position: absolute;
  top: 0;
  right: 0;
  background: rgba(0, 0, 0, 0.8);
  color: white;
  font-size: 10px;
  padding: 2px 4px;
  border-radius: 2px;
  z-index: 9999;
}

/* Performance Optimizations */
.btn-primary,
.btn-secondary,
.btn-outline,
.btn-ghost,
.btn-danger,
.form-input {
  will-change: background-color, border-color, color;
}

/* Custom Properties for Dynamic Theming */
.theme-light {
  --color-background: #ffffff;
  --color-surface: #ffffff;
  --color-text-primary: #171717;
  --color-text-secondary: #404040;
}

.theme-dark {
  --color-background: #0f172a;
  --color-surface: #1e293b;
  --color-text-primary: #f8fafc;
  --color-text-secondary: #cbd5e1;
}

.theme-high-contrast {
  --color-background: #ffffff;
  --color-surface: #ffffff;
  --color-text-primary: #000000;
  --color-text-secondary: #000000;
  --color-border: #000000;
}
